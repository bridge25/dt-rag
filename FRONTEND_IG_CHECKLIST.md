# FRONTEND_IG_CHECKLIST.md
# μ •λ³΄μ΄λ“(IG) μ„κ³„μΉ κ²€μ¦ μ²΄ν¬λ¦¬μ¤νΈ

> **β οΈ μ΄ μ²΄ν¬λ¦¬μ¤νΈλ” κ° Phase μ‹μ‘ μ „ ν•„μ**
>
> **μ›μΉ™**:
> - λ¨λ“  ν•­λ©μ΄ β… μƒνƒμ—¬μ•Ό κµ¬ν„ μ‹μ‘ κ°€λ¥
> - ν•λ‚λΌλ„ βμ΄λ©΄ **Abstain (λ³΄λ¥)**
> - "μ•„λ§λ„", "μ•„λ§", "μΌλ°μ μΌλ΅" λ“± λ¨νΈμ–΄ λ°κ²¬ μ‹ μ¦‰μ‹ μ¤‘λ‹¨
>
> **μ°Έμ΅°**: `λ°”μ΄λΈμ½”λ”©_μ™„μ„±_μ •μ λ³Έ_μ‰¬μ΄λ§λ΅_μ—°κ²°ν•_ν•_κ¶.md` μ„Ήμ… 1-2

---

## π” Phase 0: ν”„λ΅μ νΈ μ΄κΈ°ν™” IG μ²΄ν¬

### 1) μ‹μ‘ μ „ κ³µν†µ (IG μ„κ³„μΉ)

- [ ] **Scope λ¬Έμ„ν™”**: Phase 0μ—μ„ μ •ν™•ν λ¬΄μ—‡μ„ λ§λ“λ”κ°€?
  - νμΌλ…: [ 5κ° μ •ν™•ν λ…μ‹ ]
  - κ²°κ³Όλ¬Ό: [ κµ¬μ²΄μ  μ„¤λ… ]
  - λΉ„λ²”μ„: [ ν•μ§€ μ•λ” κ²ƒ λ…μ‹ ]

- [ ] **λ¨νΈμ–΄ μ κ±° μ™„λ£**
  - [ ] "κΈ°λ³Έ μ„¤μ •" β†’ [ κµ¬μ²΄μ  μ„¤μ •κ°’μΌλ΅ λ³€ν™ ]
  - [ ] "μ μ ν• κµ¬μ΅°" β†’ [ μ •ν™•ν• λ””λ ‰ν„°λ¦¬ κ²½λ΅ ]
  - [ ] "μΌλ°μ μΈ λ°©λ²•" β†’ [ κµ¬μ²΄μ  λ…λ Ήμ–΄/μ½”λ“ ]

- [ ] **μ…λ ¥(λ§¥λ½) β‰¥ μ¶λ ¥(μƒμ„±)Γ—20 ν™•μΈ**
  - μ…λ ¥: [ FRONTEND_CONTEXT.md μ½μ ]
  - μ¶λ ¥: [ package.json, tsconfig.json λ“± 5κ° νμΌ ]
  - λΉ„μ¨: [ μ¶©λ¶„ν•κ°€? ]

- [ ] **SOT=μ½”λ“ μ›μΉ™**
  - [ ] λ¬Έμ„λ³΄λ‹¤ μ½”λ“ μ°μ„  ν™•μΈ
  - [ ] μ£Όμ„ 3μ¤„ μ΄μƒ κΈμ§€

### 2) μ»¨ν…μ¤νΈ λ΅λ”©

- [ ] **Main vs Reference λ¶„λ¦¬**
  - Main: `apps/frontend/` (μ°λ¦¬κ°€ κµ¬ν„)
  - Reference: `apps/api/` (μΈν„°νμ΄μ¤λ§ μ½κΈ°)

- [ ] **Reference μ½κΈ° μ™„λ£** (μΈν„°νμ΄μ¤λ§)
  - [ ] `apps/api/main.py` (β… μ½μ)
  - [ ] `apps/api/config.py` (π”΄ λ―Έμ½μ β†’ **μ½κΈ° ν•„μ”**)
  - [ ] `openapi.yaml` (β… μΌλ¶€ μ½μ)

- [ ] **νμΌ/ν•¨μ/κ²½λ΅ μ •ν™•ν μ§€μ •**
  - [ ] Next.js μ„¤μΉ: `npx create-next-app@14.2.0` (λ²„μ „ λ…μ‹)
  - [ ] λ””λ ‰ν„°λ¦¬: `apps/frontend` (μ •ν™•ν• κ²½λ΅)
  - [ ] μ„¤μ • νμΌ: 5κ° (νμΌλ… λ¨λ‘ λ…μ‹)

- [ ] **μ„ν— μ‹ νΈ μ—†μ**
  - [ ] λ¨νΈμ–΄ 0κ°
  - [ ] μ¥ν™© μ„¤λ… μ—†μ
  - [ ] 3μ¤„ μ΄μƒ μ£Όμ„ μ—†μ

### 3) Phase 0 μ „μ© IG κ²€μ¦

- [ ] **Next.js 14.2.0 μ„¤μΉ λ…λ Ήμ–΄ μ •ν™•ν•κ°€?**
  - λ…λ Ήμ–΄: [ μ •ν™•ν• λ²„μ „κ³Ό ν”λκ·Έ λ…μ‹ ]
  - μμƒ κ²°κ³Ό: [ μƒμ„±λ  νμΌ λ©λ΅ ]

- [ ] **TypeScript strict λ¨λ“ μ„¤μ • λ°©λ²• ν™•μΈ?**
  - νμΌ: `tsconfig.json`
  - μ„¤μ •: `"strict": true` (μ •ν™•ν• μ„μΉ)

- [ ] **ν™κ²½ λ³€μ μ „μ²΄ λ©λ΅ ν™•μ •?**
  - [ ] `NEXT_PUBLIC_API_URL` (ν•„μ)
  - [ ] `NEXT_PUBLIC_API_TIMEOUT` (μ„ νƒ, κΈ°λ³Έκ°’: 30000)
  - [ ] `NODE_ENV` (μλ™)
  - π”΄ **λ―Έν™•μ • ν•­λ©**: [ apps/api/config.py λ―Έμ½μ ]

- [ ] **Tailwind μ„¤μ • μ •ν™•ν•κ°€?**
  - λ‹¤ν¬λ¨λ“: `class` strategy
  - μƒ‰μƒ: [ κΈ°λ³Έκ°’ vs μ»¤μ¤ν…€? ]

### IG λ¶€μ΅± ν•­λ© (Abstain ν•„μ”)

```
π”΄ apps/api/config.py λ―Έμ½μ
   β†’ μ¶”κ°€ ν™κ²½ λ³€μ μμ„ κ°€λ¥μ„±
   β†’ Phase 0.2μ—μ„ μ½κΈ°

π”΄ API μΈμ¦ λ°©μ‹ λ―Έν™•μ •
   β†’ JWT? API Key? μ—†μ?
   β†’ ABSTAIN.md μ°Έμ΅°
```

---

## π” Phase 1: shadcn/ui λ° λ μ΄μ•„μ›ƒ IG μ²΄ν¬

### 1) Scope ν™•μ •

- [ ] **λ©ν‘ λ…ν™•**
  - [ ] shadcn/ui μ„¤μ • (μ •ν™•ν λ¬΄μ¨ νμΌ?)
  - [ ] μ»΄ν¬λ„νΈ 10κ° μ„¤μΉ (λ©λ΅ λ…μ‹)
  - [ ] λ μ΄μ•„μ›ƒ 3κ° (AppShell, Sidebar, Header)

### 2) Context Load

- [ ] **shadcn/ui κ³µμ‹ λ¬Έμ„ μ½μ**
  - [ ] μ„¤μΉ λ°©λ²•
  - [ ] components.json κµ¬μ΅°
  - [ ] ν•„μ”ν• μ»΄ν¬λ„νΈ λ©λ΅

- [ ] **Next.js App Router λ μ΄μ•„μ›ƒ μ½μ**
  - [ ] λ μ΄μ•„μ›ƒ κ·Έλ£Ή `(dashboard)` μ΄ν•΄
  - [ ] `layout.tsx` vs `page.tsx` μ°¨μ΄

### 3) IG κ²€μ¦

- [ ] **μ„¤μΉν•  μ»΄ν¬λ„νΈ μ •ν™•ν• μ΄λ¦„?**
  ```
  button, card, badge, input, select,
  dropdown-menu, scroll-area, separator, sheet, sidebar
  ```
  (10κ° μ •ν™•)

- [ ] **Sidebar λ„¤λΉ„κ²μ΄μ… λ§ν¬ 7κ° ν™•μ •?**
  - [ ] `/` - Dashboard
  - [ ] `/search` - κ²€μƒ‰
  - [ ] `/documents` - λ¬Έμ„
  - [ ] `/taxonomy` - λ¶„λ¥μ²΄κ³„
  - [ ] `/agents` - μ—μ΄μ „νΈ
  - [ ] `/pipeline` - νμ΄ν”„λΌμΈ
  - [ ] `/monitoring` - λ¨λ‹ν„°λ§

- [ ] **λ°μ‘ν• κµ¬μ΅° λ…ν™•?**
  - λ°μ¤ν¬ν†±: Sidebar κ³ μ •
  - λ¨λ°”μΌ: Sheetλ΅ μ „ν™
  - λΈλ μ΄ν¬ν¬μΈνΈ: `md` (768px)

### IG λ¶€μ΅± ν•­λ©

```
β… λ¨λ‘ ν™•μ •λ¨ (v0.dev ν”„λ΅¬ν”„νΈ μ¤€λΉ„ μ™„λ£)
```

---

## π” Phase 2: API ν΄λΌμ΄μ–ΈνΈ/νƒ€μ… IG μ²΄ν¬

### 1) Scope ν™•μ •

- [ ] **μƒμ„±ν•  νμΌ μ •ν™•**
  - `lib/env.ts` (ν™κ²½ λ³€μ κ²€μ¦)
  - `lib/api/client.ts` (Axios)
  - `lib/api/types.ts` (15κ° μ—”λ“ν¬μΈνΈ νƒ€μ…)
  - `app/providers.tsx` (React Query)

### 2) Context Load (λ§¤μ° μ¤‘μ”)

- [ ] **κ° λΌμ°ν„° νμΌ μ§μ ‘ μ½κΈ°**
  - [ ] `apps/api/routers/search_router.py` (π”΄ λ―Έμ½μ)
  - [ ] `apps/api/routers/classification_router.py` (π”΄ λ―Έμ½μ)
  - [ ] `apps/api/routers/taxonomy_router.py` (π”΄ λ―Έμ½μ)
  - [ ] `apps/api/routers/orchestration_router.py` (π”΄ λ―Έμ½μ)
  - [ ] `apps/api/routers/agent_factory_router.py` (π”΄ λ―Έμ½μ)
  - [ ] λ‚λ¨Έμ§€ 10κ° λΌμ°ν„° (π”΄ λ―Έμ½μ)

- [ ] **openapi.yaml μ „μ²΄ μ½κΈ°**
  - [ ] Request schemas
  - [ ] Response schemas
  - [ ] Error schemas

### 3) IG κ²€μ¦ (κ°€μ¥ μ—„κ²©)

- [ ] **SearchResponse μ •ν™•ν• νƒ€μ…?**
  ```typescript
  interface SearchResponse {
    hits: SearchHit[]           // β… ν™•μ •
    total_hits: number          // β… ν™•μ •
    search_time_ms: number      // β… ν™•μ •
    mode: string                // β… ν™•μ •
  }

  interface SearchHit {
    id: string                  // β… ν™•μ •
    title: string               // β… ν™•μ •
    content: string             // β… ν™•μ •
    score: number               // β… ν™•μ •
    source: string              // β… ν™•μ •
    metadata?: {                // π”΄ μ •ν™•ν• νƒ€μ… λ―Έν™•μ •
      bm25_score?: number
      vector_score?: number
      [key: string]: any?       // μ¶”κ°€ ν•„λ“ μμ„ μ μμ
    }
  }
  ```

- [ ] **ClassifyResponse μ •ν™•ν• νƒ€μ…?**
  - π”΄ **λ―Έν™•μ •** (apps/api/routers/classification_router.py μ½μ–΄μ•Ό ν•¨)

- [ ] **μ—λ¬ μ‘λ‹µ ν•μ‹?**
  ```typescript
  // main.py:314-325μ—μ„ ν™•μΈ
  interface ErrorResponse {
    type: string      // β… ν™•μ •
    title: string     // β… ν™•μ •
    status: number    // β… ν™•μ •
    detail: string    // β… ν™•μ •
    instance: string  // β… ν™•μ •
    timestamp: number // β… ν™•μ •
  }
  ```

- [ ] **Axios μΈμ¦ ν—¤λ”?**
  - π”΄ **λ―Έν™•μ •** (Bearer token? API Key? X-API-Key?)

### IG λ¶€μ΅± ν•­λ© (Critical)

```
π”΄ λ¨λ“  λΌμ°ν„° νμΌ λ―Έμ½μ (15κ°)
   β†’ Phase 2 μ‹μ‘ μ „ ν•„μ μ½κΈ°
   β†’ ABSTAIN.mdμ— λ…μ‹

π”΄ μΈμ¦ λ°©μ‹ λ―Έν™•μ •
   β†’ apps/api/middleware/ ν™•μΈ ν•„μ”
   β†’ λλ” ABSTAIN

π”΄ κ° μ—”λ“ν¬μΈνΈ μ‘λ‹µ κµ¬μ΅° μ¶”μΈ΅ κΈμ§€
   β†’ λ°λ“μ‹ μ½”λ“ μ½κ³  ν™•μ •
```

---

## π” Phase 3: κ²€μƒ‰ νμ΄μ§€ IG μ²΄ν¬

### 1) Scope

- [ ] **νμΌ 6κ° μ •ν™•ν λ…μ‹**
  - `app/(dashboard)/search/page.tsx`
  - `components/search/SearchBar.tsx`
  - `components/search/SearchResults.tsx`
  - `components/search/SearchFilters.tsx`
  - `lib/api/search.ts`
  - `hooks/useSearch.ts`

### 2) Context Load

- [ ] **apps/api/routers/search_router.py μ •λ°€ μ½κΈ°**
  - [ ] λ¨λ“  λΌμ°νΈ ν™•μΈ
  - [ ] μ”μ²­ νλΌλ―Έν„° ν™•μΈ
  - [ ] μ‘λ‹µ κµ¬μ΅° ν™•μΈ
  - [ ] μ—λ¬ μΌ€μ΄μ¤ ν™•μΈ

- [ ] **openapi.yaml search μ„Ήμ… μ „μ²΄ μ½κΈ°**
  - [ ] SearchRequest μ¤ν‚¤λ§ (67-89μ¤„ μ½μ)
  - [ ] SearchResponse μ¤ν‚¤λ§
  - [ ] μμ  ν™•μΈ

### 3) IG κ²€μ¦

- [ ] **SearchRequest λ¨λ“  ν•„λ“ μλ―Έ μ΄ν•΄**
  - `q`: string (κ²€μƒ‰μ–΄)
  - `max_results`: number (1-50? λ²”μ„ ν™•μ • ν•„μ”)
  - `canonical_in`: array of arrays (μ •ν™•ν• κµ¬μ΅°?)
  - `min_score`: float (0.0-1.0 λ²”μ„ ν™•μ •)
  - `include_highlights`: boolean (λ¬΄μ¨ κΈ°λ¥?)
  - `search_mode`: "hybrid" | "bm25" | "vector" (3κ°λ§?)

- [ ] **Debounce μ‹κ°„ μ •ν™•ν?**
  - 500ms? 300ms? (κ²°μ • ν•„μ”)

- [ ] **max_results λ²”μ„?**
  - μµμ†: 1
  - μµλ€: 50? 100? (μ½”λ“μ—μ„ ν™•μΈ)
  - κΈ°λ³Έκ°’: 10

- [ ] **min_score λ²”μ„?**
  - μµμ†: 0.0
  - μµλ€: 1.0
  - κΈ°λ³Έκ°’: 0.7 (μ½”λ“ ν™•μΈ)

### IG λ¶€μ΅± ν•­λ©

```
π”΄ SearchRequest ν•„λ“λ³„ μ •ν™•ν• μλ―Έ/λ²”μ„ λ―Έν™•μ •
   β†’ apps/api/routers/search_router.py μ½κΈ° ν•„μ

π”΄ canonical_in κµ¬μ΅° λ¶λ…ν™•
   β†’ μ: [["Tech", "AI"]] vs ["Tech/AI"]?

π”΄ include_highlights λ™μ‘ λ°©μ‹
   β†’ μ‘λ‹µμ— μ–΄λ–¤ ν•„λ“ μ¶”κ°€λλ”μ§€?
```

---

## π” Phase 4-6 IG μ²΄ν¬ (κ°„λµ)

### Phase 4: λ¬Έμ„ κ΄€λ¦¬

- [ ] **FileUpload ν—μ© ν™•μ¥μ**
  - .txt, .pdf, .docx, .md (ν™•μ •)
  - μµλ€ ν¬κΈ°: 10MB (μ½”λ“ ν™•μΈ ν•„μ”)

- [ ] **μ—…λ΅λ“ μ—”λ“ν¬μΈνΈ**
  - `POST /ingestion/upload` (β… ν™•μ •)
  - multipart/form-data
  - μ‘λ‹µ κµ¬μ΅°? (π”΄ λ―Έν™•μ •)

### Phase 5: λ‚λ¨Έμ§€ νμ΄μ§€

- [ ] **κ° νμ΄μ§€λ³„ API μ—”λ“ν¬μΈνΈ ν™•μ •**
  - Taxonomy: GET /api/v1/taxonomy/{version}/tree
  - Agents: POST /api/v1/agents/from-category
  - Pipeline: POST /api/v1/pipeline/execute
  - Monitoring: GET /api/v1/monitoring/health

- [ ] **μ‘λ‹µ νƒ€μ… λ¨λ‘ ν™•μ •?**
  - π”΄ **λ―Έν™•μ •** (κ° λΌμ°ν„° μ½μ–΄μ•Ό ν•¨)

### Phase 6: ν΄λ¦¬μ‹±

- [ ] **Vercel λ°°ν¬ μ„¤μ •**
  - vercel.json ν•„μ”?
  - ν™κ²½ λ³€μ μ„¤μ • λ°©λ²•?
  - λ„λ©”μΈ μ—°κ²°?

---

## π“ μ „μ²΄ IG μƒνƒ μ”μ•½

### β… ν™•μ •λ ν•­λ© (κµ¬ν„ κ°€λ¥)

1. **λ°±μ—”λ“ API μ—”λ“ν¬μΈνΈ 15κ°** (main.pyμ—μ„ μ½μ)
2. **ν”„λ΅μ νΈ κµ¬μ΅°** (λ””λ ‰ν„°λ¦¬, νμΌλ…)
3. **κΈ°μ  μ¤νƒ** (Next.js 14, shadcn/ui λ“±)
4. **μ—λ¬ μ‘λ‹µ ν•μ‹** (RFC 7807)
5. **CORS λ―Έλ“¤μ›¨μ–΄ μ΅΄μ¬** (μ„¤μ •κ°’ λ―Έν™•μ •)

### π”΄ λ―Έν™•μ • ν•­λ© (Abstain ν•„μ”)

1. **κ° API μ—”λ“ν¬μΈνΈ μ‘λ‹µ μƒμ„Έ μ¤ν‚¤λ§** (15κ° λΌμ°ν„° λ―Έμ½μ)
2. **ν™κ²½ λ³€μ μ „μ²΄ λ©λ΅** (apps/api/config.py λ―Έμ½μ)
3. **μΈμ¦/κ¶ν• μ‹μ¤ν…** (κµ¬ν„ μ—¬λ¶€, λ°©μ‹)
4. **νμΌ μ—…λ΅λ“ μ‘λ‹µ κµ¬μ΅°**
5. **SearchRequest ν•„λ“λ³„ μ •ν™•ν• λ²”μ„/μλ―Έ**
6. **canonical_in μ •ν™•ν• κµ¬μ΅°**
7. **λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§**
8. **Rate limiting μ •ν™•ν• μ ν•κ°’**

---

## π¨ Abstain μ΅°κ±΄ (μ§„ν–‰ λ¶κ°€)

λ‹¤μ μ΅°κ±΄ μ¤‘ ν•λ‚λΌλ„ ν•΄λ‹Ήν•λ©΄ **μ¦‰μ‹ μ¤‘λ‹¨**:

1. **λ¨νΈμ–΄ λ°κ²¬**
   - "μ μ ν", "μΌλ°μ μΌλ΅", "μ•„λ§λ„"
   - "κΈ°λ³Έ", "λ³΄ν†µ", "λ€λµ"

2. **IG μ„κ³„μΉ λ―Έλ‹¬**
   - ν•„μ ν•­λ© μ¤‘ ν•λ‚λΌλ„ π”΄ μƒνƒ
   - νƒ€μ… μ •μμ— `any` μ‚¬μ© κ³ λ ¤
   - μ‘λ‹µ κµ¬μ΅° μ¶”μΈ΅ ν•„μ”

3. **μ½”λ“ λ―Έν™•μΈ**
   - λΌμ°ν„° νμΌ μ½μ§€ μ•μ
   - openapi.yaml λ―Έν™•μΈ
   - ν™κ²½ λ³€μ μ¶”μΈ΅

4. **μ„ν— μ‹ νΈ**
   - 3μ¤„ μ΄μƒ μ£Όμ„
   - μ¥ν™©ν• μ„¤λ…
   - μ—¬λ¬ ν•΄μ„ κ°€λ¥ν• λ¬Έμ¥

---

## β… μ§„ν–‰ κ°€λ¥ μ΅°κ±΄

λ¨λ“  Phaseλ” λ‹¤μ μ΅°κ±΄ μ¶©μ΅± μ‹μ—λ§ μ‹μ‘:

1. **Scope 100% λ…ν™•**
   - νμΌλ… μ •ν™•
   - κ²°κ³Όλ¬Ό κµ¬μ²΄μ 
   - λΉ„λ²”μ„ λ…μ‹

2. **Context Load μ™„λ£**
   - ν•„μ”ν• μ½”λ“ λ¨λ‘ μ½μ
   - νƒ€μ… μ •μ ν™•μ •
   - μμ  ν™•μΈ

3. **IG μ²΄ν¬λ¦¬μ¤νΈ 100% β…**
   - λ¨νΈμ–΄ 0κ°
   - μ¶”μΈ΅ ν•­λ© 0κ°
   - λ¨λ“  κ°’ ν™•μ •

4. **Plan β‰¤5νμΌ**
   - μ»¤λ°‹λ‹Ή νμΌ μ ν™•μ •
   - μμ„ λ…ν™•
   - DoD μ •μ

---

**λ¬Έμ„ λ**

μ΄ μ²΄ν¬λ¦¬μ¤νΈλ” λ°”μ΄λΈμ½”λ”© μ›μΉ™μ„ κ°•μ ν•©λ‹λ‹¤.
ν•λ‚λΌλ„ λ―Έλ‹¬ μ‹ ABSTAIN.md μ°Έμ΅°ν•μ—¬ μ •λ³΄ μμ§‘ ν›„ μ¬κ°ν•μ„Έμ”.
