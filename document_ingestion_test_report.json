{
  "summary": {
    "test_start_time": "2025-09-19T00:46:18.722479",
    "test_end_time": "2025-09-19T00:46:28.363165",
    "total_duration_seconds": 9.640686,
    "total_files_tested": 8,
    "successful_files": -10,
    "failed_files": 18,
    "success_rate_percent": -125.0,
    "total_chunks_created": 0,
    "total_characters_processed": 191612,
    "pii_detections_count": 0,
    "embeddings_generated": 0
  },
  "performance_metrics": {
    "average_processing_time": 0.05954253673553467,
    "processing_times_by_stage": {
      "parsing": {
        "count": 6,
        "average": 0.05954253673553467,
        "min": 0.0018947124481201172,
        "max": 0.21711349487304688
      }
    },
    "memory_usage": {
      "samples": 33,
      "average_mb": 256.9852035984849,
      "peak_mb": 261.68359375,
      "min_mb": 256.1171875
    }
  },
  "detailed_results": {
    "file_creation": {
      "success": true,
      "files_created": 10,
      "file_types": [
        "txt",
        "md",
        "html",
        "csv",
        "json",
        "pdf",
        "docx",
        "corrupted",
        "empty",
        "large"
      ]
    },
    "file_format_support": {
      "txt": {
        "success": true,
        "text_length": 369,
        "metadata_keys": [
          "parser",
          "encoding",
          "original_filename",
          "mime_type"
        ],
        "processing_time": 0.12989211082458496,
        "has_korean": true
      },
      "md": {
        "success": true,
        "text_length": 337,
        "metadata_keys": [
          "parser",
          "encoding",
          "title",
          "render_to_html",
          "original_filename",
          "mime_type"
        ],
        "processing_time": 0.0026693344116210938,
        "has_korean": true
      },
      "html": {
        "success": true,
        "text_length": 193,
        "metadata_keys": [
          "parser",
          "encoding",
          "title",
          "description",
          "preserve_formatting",
          "original_filename",
          "mime_type"
        ],
        "processing_time": 0.003360271453857422,
        "has_korean": true
      },
      "csv": {
        "success": true,
        "text_length": 325,
        "metadata_keys": [
          "parser",
          "encoding",
          "headers",
          "total_rows",
          "max_rows_limit",
          "original_filename",
          "mime_type"
        ],
        "processing_time": 0.002325296401977539,
        "has_korean": true
      },
      "json": {
        "success": true,
        "text_length": 389,
        "metadata_keys": [
          "parser",
          "encoding",
          "data_type",
          "flatten_nested",
          "original_filename",
          "mime_type"
        ],
        "processing_time": 0.0018947124481201172,
        "has_korean": true
      },
      "pdf": {
        "success": false,
        "error": "No parser available",
        "processing_time": 0
      },
      "docx": {
        "success": false,
        "error": "No parser available",
        "processing_time": 0
      },
      "large": {
        "success": true,
        "text_length": 189999,
        "metadata_keys": [
          "parser",
          "encoding",
          "original_filename",
          "mime_type"
        ],
        "processing_time": 0.21711349487304688,
        "has_korean": true
      }
    },
    "text_extraction_and_chunking": {
      "txt": {
        "success": false,
        "error": "'TokenBasedChunker' object has no attribute 'chunk_document'",
        "processing_time": 0.0014278888702392578
      },
      "md": {
        "success": false,
        "error": "'TokenBasedChunker' object has no attribute 'chunk_document'",
        "processing_time": 0.0010426044464111328
      },
      "html": {
        "success": false,
        "error": "'TokenBasedChunker' object has no attribute 'chunk_document'",
        "processing_time": 0.0020437240600585938
      },
      "csv": {
        "success": false,
        "error": "'TokenBasedChunker' object has no attribute 'chunk_document'",
        "processing_time": 0.0013670921325683594
      },
      "json": {
        "success": false,
        "error": "'TokenBasedChunker' object has no attribute 'chunk_document'",
        "processing_time": 0.0012238025665283203
      },
      "large": {
        "success": false,
        "error": "'TokenBasedChunker' object has no attribute 'chunk_document'",
        "processing_time": 0.22644782066345215
      }
    },
    "metadata_extraction": {
      "txt": {
        "success": true,
        "metadata": {
          "parser": "TextParser",
          "encoding": "utf-8",
          "original_filename": "C:\\Users\\a\\AppData\\Local\\Temp\\ingestion_test_883kvdm9\\test_korean.txt",
          "mime_type": "text/plain"
        },
        "required_fields_present": {
          "file_name": false,
          "file_size": false,
          "created_at": false
        },
        "optional_fields_present": {
          "title": false,
          "author": false,
          "subject": false,
          "creator": false,
          "modified_at": false
        },
        "total_fields": 4,
        "processing_time": 0.0012331008911132812
      },
      "md": {
        "success": true,
        "metadata": {
          "parser": "MarkdownParser",
          "encoding": "utf-8",
          "title": "한글 마크다운 문서",
          "render_to_html": false,
          "original_filename": "C:\\Users\\a\\AppData\\Local\\Temp\\ingestion_test_883kvdm9\\test_korean.md",
          "mime_type": "text/markdown"
        },
        "required_fields_present": {
          "file_name": false,
          "file_size": false,
          "created_at": false
        },
        "optional_fields_present": {
          "title": true,
          "author": false,
          "subject": false,
          "creator": false,
          "modified_at": false
        },
        "total_fields": 6,
        "processing_time": 0.0010936260223388672
      },
      "html": {
        "success": true,
        "metadata": {
          "parser": "HTMLParser",
          "encoding": "utf-8",
          "title": "한글 HTML 테스트",
          "description": null,
          "preserve_formatting": false,
          "original_filename": "C:\\Users\\a\\AppData\\Local\\Temp\\ingestion_test_883kvdm9\\test_korean.html",
          "mime_type": "text/html"
        },
        "required_fields_present": {
          "file_name": false,
          "file_size": false,
          "created_at": false
        },
        "optional_fields_present": {
          "title": true,
          "author": false,
          "subject": false,
          "creator": false,
          "modified_at": false
        },
        "total_fields": 7,
        "processing_time": 0.0019025802612304688
      },
      "csv": {
        "success": true,
        "metadata": {
          "parser": "CSVParser",
          "encoding": "utf-8",
          "headers": [
            "이름",
            "이메일",
            "전화번호",
            "부서"
          ],
          "total_rows": 4,
          "max_rows_limit": 10000,
          "original_filename": "C:\\Users\\a\\AppData\\Local\\Temp\\ingestion_test_883kvdm9\\test_korean.csv",
          "mime_type": "text/csv"
        },
        "required_fields_present": {
          "file_name": false,
          "file_size": false,
          "created_at": false
        },
        "optional_fields_present": {
          "title": false,
          "author": false,
          "subject": false,
          "creator": false,
          "modified_at": false
        },
        "total_fields": 7,
        "processing_time": 0.0011403560638427734
      },
      "json": {
        "success": true,
        "metadata": {
          "parser": "JSONParser",
          "encoding": "utf-8",
          "data_type": "dict",
          "flatten_nested": true,
          "original_filename": "C:\\Users\\a\\AppData\\Local\\Temp\\ingestion_test_883kvdm9\\test_korean.json",
          "mime_type": "application/json"
        },
        "required_fields_present": {
          "file_name": false,
          "file_size": false,
          "created_at": false
        },
        "optional_fields_present": {
          "title": false,
          "author": false,
          "subject": false,
          "creator": false,
          "modified_at": false
        },
        "total_fields": 6,
        "processing_time": 0.0011208057403564453
      },
      "large": {
        "success": true,
        "metadata": {
          "parser": "TextParser",
          "encoding": "utf-8",
          "original_filename": "C:\\Users\\a\\AppData\\Local\\Temp\\ingestion_test_883kvdm9\\large_test.txt",
          "mime_type": "text/plain"
        },
        "required_fields_present": {
          "file_name": false,
          "file_size": false,
          "created_at": false
        },
        "optional_fields_present": {
          "title": false,
          "author": false,
          "subject": false,
          "creator": false,
          "modified_at": false
        },
        "total_fields": 4,
        "processing_time": 0.2167048454284668
      }
    },
    "pii_filtering": {
      "txt": {
        "success": false,
        "error": "PIIFilter.filter_text() got an unexpected keyword argument 'masking_strategy'",
        "processing_time": 0.0013773441314697266
      },
      "md": {
        "success": false,
        "error": "PIIFilter.filter_text() got an unexpected keyword argument 'masking_strategy'",
        "processing_time": 0.0013451576232910156
      },
      "html": {
        "success": false,
        "error": "PIIFilter.filter_text() got an unexpected keyword argument 'masking_strategy'",
        "processing_time": 0.0026328563690185547
      },
      "csv": {
        "success": false,
        "error": "PIIFilter.filter_text() got an unexpected keyword argument 'masking_strategy'",
        "processing_time": 0.0012104511260986328
      },
      "json": {
        "success": false,
        "error": "PIIFilter.filter_text() got an unexpected keyword argument 'masking_strategy'",
        "processing_time": 0.0011248588562011719
      },
      "large": {
        "success": false,
        "error": "PIIFilter.filter_text() got an unexpected keyword argument 'masking_strategy'",
        "processing_time": 0.2368612289428711
      }
    },
    "embedding_generation": {
      "txt": {
        "success": false,
        "error": "'TokenBasedChunker' object has no attribute 'chunk_document'",
        "processing_time": 0.002264261245727539
      },
      "md": {
        "success": false,
        "error": "'TokenBasedChunker' object has no attribute 'chunk_document'",
        "processing_time": 0.0018105506896972656
      },
      "html": {
        "success": false,
        "error": "'TokenBasedChunker' object has no attribute 'chunk_document'",
        "processing_time": 0.0034568309783935547
      },
      "csv": {
        "success": false,
        "error": "'TokenBasedChunker' object has no attribute 'chunk_document'",
        "processing_time": 0.001104593276977539
      },
      "json": {
        "success": false,
        "error": "'TokenBasedChunker' object has no attribute 'chunk_document'",
        "processing_time": 0.0011377334594726562
      }
    },
    "database_storage": {
      "full_pipeline": {
        "success": false,
        "error": "'ProcessingResult' object has no attribute 'chunks'",
        "processing_time": 1.1608376502990723
      }
    },
    "error_handling": {
      "corrupted_file": {
        "handled_gracefully": false,
        "unhandled_exception": "'ProcessingResult' object has no attribute 'error'",
        "processing_time": 0.0008924007415771484
      },
      "empty_file": {
        "handled_gracefully": false,
        "unhandled_exception": "'ProcessingResult' object has no attribute 'error'",
        "processing_time": 0.0013415813446044922
      },
      "nonexistent_file": {
        "handled_gracefully": false,
        "unhandled_exception": "'ProcessingResult' object has no attribute 'error'",
        "processing_time": 0.0017352104187011719
      }
    },
    "batch_processing": {
      "success": true,
      "total_files": 5,
      "sequential_processing": {
        "time": 4.3158488273620605,
        "successful": 0,
        "avg_time_per_file": 0.8631697654724121
      },
      "parallel_processing": {
        "time": 2.9541213512420654,
        "successful": 0,
        "avg_time_per_file": 0.5908242702484131,
        "speedup_ratio": 1.4609585437468418
      },
      "memory_usage": {
        "initial_mb": 261.68359375,
        "peak_mb": 261.68359375,
        "increase_mb": 0.0
      },
      "total_time": 7.270020246505737
    }
  },
  "error_analysis": {
    "total_errors": 18,
    "errors_by_stage": {
      "chunking": 6,
      "pii_filtering": 6,
      "embedding": 5,
      "database_storage": 1
    },
    "errors_by_format": {
      "txt": 3,
      "md": 3,
      "html": 3,
      "csv": 3,
      "json": 3,
      "large": 2,
      "unknown": 1
    },
    "error_details": [
      {
        "stage": "chunking",
        "file_format": "txt",
        "error": "'TokenBasedChunker' object has no attribute 'chunk_document'",
        "traceback": "Traceback (most recent call last):\n  File \"C:\\MYCLAUDE_PROJECT\\sonheungmin\\Unmanned\\dt-rag\\test_document_ingestion_comprehensive.py\", line 503, in test_text_extraction_and_chunking\n    chunks = await self.chunker.chunk_document(parsed_doc)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'TokenBasedChunker' object has no attribute 'chunk_document'\n"
      },
      {
        "stage": "chunking",
        "file_format": "md",
        "error": "'TokenBasedChunker' object has no attribute 'chunk_document'",
        "traceback": "Traceback (most recent call last):\n  File \"C:\\MYCLAUDE_PROJECT\\sonheungmin\\Unmanned\\dt-rag\\test_document_ingestion_comprehensive.py\", line 503, in test_text_extraction_and_chunking\n    chunks = await self.chunker.chunk_document(parsed_doc)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'TokenBasedChunker' object has no attribute 'chunk_document'\n"
      },
      {
        "stage": "chunking",
        "file_format": "html",
        "error": "'TokenBasedChunker' object has no attribute 'chunk_document'",
        "traceback": "Traceback (most recent call last):\n  File \"C:\\MYCLAUDE_PROJECT\\sonheungmin\\Unmanned\\dt-rag\\test_document_ingestion_comprehensive.py\", line 503, in test_text_extraction_and_chunking\n    chunks = await self.chunker.chunk_document(parsed_doc)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'TokenBasedChunker' object has no attribute 'chunk_document'\n"
      },
      {
        "stage": "chunking",
        "file_format": "csv",
        "error": "'TokenBasedChunker' object has no attribute 'chunk_document'",
        "traceback": "Traceback (most recent call last):\n  File \"C:\\MYCLAUDE_PROJECT\\sonheungmin\\Unmanned\\dt-rag\\test_document_ingestion_comprehensive.py\", line 503, in test_text_extraction_and_chunking\n    chunks = await self.chunker.chunk_document(parsed_doc)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'TokenBasedChunker' object has no attribute 'chunk_document'\n"
      },
      {
        "stage": "chunking",
        "file_format": "json",
        "error": "'TokenBasedChunker' object has no attribute 'chunk_document'",
        "traceback": "Traceback (most recent call last):\n  File \"C:\\MYCLAUDE_PROJECT\\sonheungmin\\Unmanned\\dt-rag\\test_document_ingestion_comprehensive.py\", line 503, in test_text_extraction_and_chunking\n    chunks = await self.chunker.chunk_document(parsed_doc)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'TokenBasedChunker' object has no attribute 'chunk_document'\n"
      },
      {
        "stage": "chunking",
        "file_format": "large",
        "error": "'TokenBasedChunker' object has no attribute 'chunk_document'",
        "traceback": "Traceback (most recent call last):\n  File \"C:\\MYCLAUDE_PROJECT\\sonheungmin\\Unmanned\\dt-rag\\test_document_ingestion_comprehensive.py\", line 503, in test_text_extraction_and_chunking\n    chunks = await self.chunker.chunk_document(parsed_doc)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'TokenBasedChunker' object has no attribute 'chunk_document'\n"
      },
      {
        "stage": "pii_filtering",
        "file_format": "txt",
        "error": "PIIFilter.filter_text() got an unexpected keyword argument 'masking_strategy'",
        "traceback": "Traceback (most recent call last):\n  File \"C:\\MYCLAUDE_PROJECT\\sonheungmin\\Unmanned\\dt-rag\\test_document_ingestion_comprehensive.py\", line 630, in test_pii_filtering\n    filter_result = await self.pii_filter.filter_text(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        parsed_doc.content,\n        ^^^^^^^^^^^^^^^^^^^\n        masking_strategy=MaskingStrategy.REDACT\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\nTypeError: PIIFilter.filter_text() got an unexpected keyword argument 'masking_strategy'\n"
      },
      {
        "stage": "pii_filtering",
        "file_format": "md",
        "error": "PIIFilter.filter_text() got an unexpected keyword argument 'masking_strategy'",
        "traceback": "Traceback (most recent call last):\n  File \"C:\\MYCLAUDE_PROJECT\\sonheungmin\\Unmanned\\dt-rag\\test_document_ingestion_comprehensive.py\", line 630, in test_pii_filtering\n    filter_result = await self.pii_filter.filter_text(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        parsed_doc.content,\n        ^^^^^^^^^^^^^^^^^^^\n        masking_strategy=MaskingStrategy.REDACT\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\nTypeError: PIIFilter.filter_text() got an unexpected keyword argument 'masking_strategy'\n"
      },
      {
        "stage": "pii_filtering",
        "file_format": "html",
        "error": "PIIFilter.filter_text() got an unexpected keyword argument 'masking_strategy'",
        "traceback": "Traceback (most recent call last):\n  File \"C:\\MYCLAUDE_PROJECT\\sonheungmin\\Unmanned\\dt-rag\\test_document_ingestion_comprehensive.py\", line 630, in test_pii_filtering\n    filter_result = await self.pii_filter.filter_text(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        parsed_doc.content,\n        ^^^^^^^^^^^^^^^^^^^\n        masking_strategy=MaskingStrategy.REDACT\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\nTypeError: PIIFilter.filter_text() got an unexpected keyword argument 'masking_strategy'\n"
      },
      {
        "stage": "pii_filtering",
        "file_format": "csv",
        "error": "PIIFilter.filter_text() got an unexpected keyword argument 'masking_strategy'",
        "traceback": "Traceback (most recent call last):\n  File \"C:\\MYCLAUDE_PROJECT\\sonheungmin\\Unmanned\\dt-rag\\test_document_ingestion_comprehensive.py\", line 630, in test_pii_filtering\n    filter_result = await self.pii_filter.filter_text(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        parsed_doc.content,\n        ^^^^^^^^^^^^^^^^^^^\n        masking_strategy=MaskingStrategy.REDACT\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\nTypeError: PIIFilter.filter_text() got an unexpected keyword argument 'masking_strategy'\n"
      }
    ]
  },
  "recommendations": [
    "전체 성공률이 -125.0%로 낮습니다. 오류 처리 개선이 필요합니다."
  ]
}