{
  "test_summary": {
    "total_time": 109.98383569717407,
    "setup_success": false,
    "tests_completed": 6,
    "timestamp": "2025-09-17T14:06:03.681329"
  },
  "individual_results": {
    "bm25_tests": {
      "success": true,
      "test_cases": [
        {
          "case_id": 1,
          "query": "RAG 시스템",
          "query_tokens": [
            "rag",
            "시스템"
          ],
          "doc_tokens": [
            "rag",
            "시스템은",
            "검색",
            "기반",
            "생성",
            "모델입니다"
          ],
          "bm25_score": 4.725791647762018,
          "expected_range": [
            0.0,
            10.0
          ],
          "success": "True"
        },
        {
          "case_id": 2,
          "query": "machine learning",
          "query_tokens": [
            "machine",
            "learning"
          ],
          "doc_tokens": [
            "machine",
            "learning",
            "algorithms",
            "include",
            "svm",
            "random",
            "forest"
          ],
          "bm25_score": 7.087139296456341,
          "expected_range": [
            0.0,
            10.0
          ],
          "success": "True"
        },
        {
          "case_id": 3,
          "query": "검색 기반",
          "query_tokens": [
            "검색",
            "기반"
          ],
          "doc_tokens": [
            "rag",
            "시스템은",
            "검색",
            "기반",
            "생성",
            "모델입니다"
          ],
          "bm25_score": 7.004527761208427,
          "expected_range": [
            0.0,
            10.0
          ],
          "success": "True"
        }
      ],
      "performance": {
        "total_time": 0.002074718475341797,
        "avg_time_per_case": 0.0006915728251139323,
        "throughput": 1445.979315099977
      },
      "encoding_test": {
        "test_texts": [
          {
            "text": "한글 텍스트 처리 테스트",
            "tokens": [
              "한글",
              "텍스트",
              "처리",
              "테스트"
            ],
            "success": true,
            "token_count": 4
          },
          {
            "text": "English text processing test",
            "tokens": [
              "english",
              "text",
              "processing",
              "test"
            ],
            "success": true,
            "token_count": 4
          },
          {
            "text": "混合文字処理テスト",
            "tokens": [
              "混合文字処理テスト"
            ],
            "success": true,
            "token_count": 1
          },
          {
            "text": "Тест обработки текста",
            "tokens": [
              "тест",
              "обработки",
              "текста"
            ],
            "success": true,
            "token_count": 3
          }
        ],
        "success_rate": 1.0
      }
    },
    "vector_tests": {
      "success": true,
      "embedding_tests": [
        {
          "text": "RAG 시스템은 검색과 생성을 결합합니다",
          "embedding_length": 1536,
          "generation_time": 3.0707719326019287,
          "is_valid": true,
          "sample_values": [
            -0.02198202,
            -0.0016343064,
            -0.007616517,
            -0.022255257,
            -0.009392566
          ]
        },
        {
          "text": "Machine learning enables pattern recognition",
          "embedding_length": 1536,
          "generation_time": 2.131256580352783,
          "is_valid": true,
          "sample_values": [
            -0.032378964,
            0.004267301,
            0.0079043545,
            -0.007635186,
            0.0020827712
          ]
        },
        {
          "text": "벡터 데이터베이스는 고차원 데이터를 저장합니다",
          "embedding_length": 1536,
          "generation_time": 0.8684525489807129,
          "is_valid": true,
          "sample_values": [
            -0.01465352,
            -0.004649547,
            -0.0034648227,
            -0.023376798,
            -0.0149844475
          ]
        },
        {
          "text": "Neural networks learn complex representations",
          "embedding_length": 1536,
          "generation_time": 1.7257945537567139,
          "is_valid": true,
          "sample_values": [
            -0.03578831,
            0.020454194,
            0.020989714,
            -0.011637731,
            0.006004991
          ]
        }
      ],
      "similarity_tests": [
        {
          "description": "RAG-벡터DB 유사성 (한글-한글)",
          "text1": "RAG 시스템은 검색과 생성을 결합합니다",
          "text2": "벡터 데이터베이스는 고차원 데이터를 저장합니다",
          "cosine_similarity": 0.7813100645997012,
          "euclidean_distance": 0.6613470409837263,
          "similarity_valid": "True"
        },
        {
          "description": "ML-NN 유사성 (영어-영어)",
          "text1": "Machine learning enables pattern recognition",
          "text2": "Neural networks learn complex representations",
          "cosine_similarity": 0.850847622087328,
          "euclidean_distance": 0.5461728624202774,
          "similarity_valid": "True"
        },
        {
          "description": "RAG-ML 차이 (한글-영어)",
          "text1": "RAG 시스템은 검색과 생성을 결합합니다",
          "text2": "Machine learning enables pattern recognition",
          "cosine_similarity": 0.7311998399797512,
          "euclidean_distance": 0.7332123514902612,
          "similarity_valid": "True"
        },
        {
          "description": "벡터DB-NN 차이 (한글-영어)",
          "text1": "벡터 데이터베이스는 고차원 데이터를 저장합니다",
          "text2": "Neural networks learn complex representations",
          "cosine_similarity": 0.7483751106331118,
          "euclidean_distance": 0.7094010566324631,
          "similarity_valid": "True"
        }
      ],
      "performance": {
        "total_time": 7.804077863693237,
        "avg_embedding_time": 1.9490689039230347,
        "embeddings_per_second": 0.512552548791078
      },
      "encoding_test": {
        "test_results": [
          {
            "text": "한국어 임베딩 테스트 🇰🇷",
            "success": true,
            "embedding_length": 1536
          },
          {
            "text": "English embedding test 🇺🇸",
            "success": true,
            "embedding_length": 1536
          },
          {
            "text": "日本語埋め込みテスト 🇯🇵",
            "success": true,
            "embedding_length": 1536
          },
          {
            "text": "Русский тест встраивания 🇷🇺",
            "success": true,
            "embedding_length": 1536
          }
        ],
        "success_rate": 1.0
      }
    },
    "cross_encoder_tests": {
      "success": true,
      "reranking_tests": [
        {
          "query": "RAG 시스템 설명",
          "original_count": 5,
          "reranked_count": 3,
          "top_k": 3,
          "order_changed": true,
          "relevance_improved": false,
          "original_scores": [
            0.6,
            0.3,
            0.7
          ],
          "reranked_scores": [
            0.5599999999999999,
            0.5373333333333333,
            0.49600000000000016
          ],
          "score_improvement": true
        },
        {
          "query": "RAG 시스템 설명",
          "top_k": 1,
          "result_count": 1,
          "top_k_respected": true,
          "scores_descending": true
        },
        {
          "query": "RAG 시스템 설명",
          "top_k": 2,
          "result_count": 2,
          "top_k_respected": true,
          "scores_descending": true
        },
        {
          "query": "RAG 시스템 설명",
          "top_k": 5,
          "result_count": 5,
          "top_k_respected": true,
          "scores_descending": true
        }
      ],
      "performance": {
        "total_time": 0.0002789497375488281,
        "reranking_latency": 6.973743438720703e-05,
        "throughput": 14339.500854700855
      },
      "quality_metrics": {
        "success_rate": 0.75,
        "relevance_improvement_rate": 0.0,
        "order_change_rate": 1.0
      }
    },
    "hybrid_tests": {},
    "performance_metrics": {
      "success": true,
      "metrics_tests": [
        {
          "description": "메트릭 수집 기본 테스트",
          "collected_metrics": {
            "avg_latency": 0.14734627405802408,
            "p95_latency": 0.18777847290039062,
            "total_searches": 15,
            "search_counts": {
              "bm25": 5,
              "vector": 5,
              "hybrid": 5
            },
            "error_rate": 0.2,
            "period_start": "2025-09-17T14:05:55.126703"
          },
          "validation": {
            "has_avg_latency": true,
            "has_p95_latency": true,
            "has_total_searches": true,
            "has_search_counts": true,
            "has_error_rate": true,
            "total_searches_correct": true,
            "error_rate_reasonable": true,
            "latency_positive": true,
            "all_metrics_present": true,
            "data_consistency": true
          },
          "success": true
        }
      ],
      "performance": {
        "metric_collection_latency": "실시간",
        "metric_accuracy": "정확",
        "memory_usage": "경량"
      }
    },
    "encoding_tests": {
      "success": true,
      "encoding_tests": [
        {
          "name": "한글",
          "original_text": "안녕하세요! RAG 시스템을 테스트합니다. 한국어 처리가 정상적으로 작동하나요?",
          "language": "ko",
          "tests": {
            "bm25_tokenization": {
              "success": true,
              "token_count": 8,
              "sample_tokens": [
                "안녕하세요",
                "rag",
                "시스템을",
                "테스트합니다",
                "한국어"
              ]
            },
            "embedding_generation": {
              "success": true,
              "embedding_length": 1536,
              "sample_values": [
                -0.0059709675,
                -0.018206017,
                0.011711396
              ]
            },
            "database_compatibility": {
              "success": true,
              "round_trip_success": true
            }
          },
          "overall_success": true
        },
        {
          "name": "영어",
          "original_text": "Hello! This is a test for the RAG system. Does English processing work correctly?",
          "language": "en",
          "tests": {
            "bm25_tokenization": {
              "success": true,
              "token_count": 11,
              "sample_tokens": [
                "hello",
                "this",
                "is",
                "test",
                "rag"
              ]
            },
            "embedding_generation": {
              "success": true,
              "embedding_length": 1536,
              "sample_values": [
                -0.015877375,
                0.0077553303,
                0.007449735
              ]
            },
            "database_compatibility": {
              "success": true,
              "round_trip_success": true
            }
          },
          "overall_success": true
        },
        {
          "name": "일본어",
          "original_text": "こんにちは！RAGシステムをテストしています。日本語処理は正常に動作しますか？",
          "language": "ja",
          "tests": {
            "bm25_tokenization": {
              "success": true,
              "token_count": 3,
              "sample_tokens": [
                "こんにちは",
                "ragシステムをテストしています",
                "日本語処理は正常に動作しますか"
              ]
            },
            "embedding_generation": {
              "success": true,
              "embedding_length": 1536,
              "sample_values": [
                -0.0073376256,
                -0.008494062,
                -0.002774434
              ]
            },
            "database_compatibility": {
              "success": true,
              "round_trip_success": true
            }
          },
          "overall_success": true
        },
        {
          "name": "러시아어",
          "original_text": "Привет! Это тест системы RAG. Правильно ли работает обработка русского языка?",
          "language": "ru",
          "tests": {
            "bm25_tokenization": {
              "success": true,
              "token_count": 11,
              "sample_tokens": [
                "привет",
                "это",
                "тест",
                "системы",
                "rag"
              ]
            },
            "embedding_generation": {
              "success": true,
              "embedding_length": 1536,
              "sample_values": [
                -0.011233811,
                0.0017908016,
                -0.00968751
              ]
            },
            "database_compatibility": {
              "success": true,
              "round_trip_success": true
            }
          },
          "overall_success": true
        },
        {
          "name": "이모지 및 특수문자",
          "original_text": "🚀 AI 시스템 테스트 🤖 Special chars: @#$%^&*()_+-=[]{}|;':\",./<>?",
          "language": "mixed",
          "tests": {
            "bm25_tokenization": {
              "success": true,
              "token_count": 5,
              "sample_tokens": [
                "ai",
                "시스템",
                "테스트",
                "special",
                "chars"
              ]
            },
            "embedding_generation": {
              "success": true,
              "embedding_length": 1536,
              "sample_values": [
                -0.0055414764,
                -0.021066071,
                0.00029566878
              ]
            },
            "database_compatibility": {
              "success": true,
              "round_trip_success": true
            }
          },
          "overall_success": true
        },
        {
          "name": "수학 기호",
          "original_text": "수학 기호: ∑∫∆∇∞±≤≥≠≈∝∈∉∪∩⊂⊃⊆⊇∧∨¬∀∃",
          "language": "math",
          "tests": {
            "bm25_tokenization": {
              "success": true,
              "token_count": 2,
              "sample_tokens": [
                "수학",
                "기호"
              ]
            },
            "embedding_generation": {
              "success": true,
              "embedding_length": 1536,
              "sample_values": [
                -0.0027854359,
                -0.010928504,
                0.012181284
              ]
            },
            "database_compatibility": {
              "success": true,
              "round_trip_success": true
            }
          },
          "overall_success": true
        }
      ],
      "character_tests": {
        "quotes": {
          "success": true,
          "processed": true
        },
        "dashes": {
          "success": true,
          "processed": true
        },
        "spaces": {
          "success": true,
          "processed": true
        },
        "control": {
          "success": true,
          "processed": true
        },
        "combining": {
          "success": true,
          "processed": true
        },
        "rtl": {
          "success": true,
          "processed": true
        }
      }
    },
    "integration_tests": {}
  },
  "final_metrics": {
    "avg_latency": 0.14734627405802408,
    "p95_latency": 0.18777847290039062,
    "total_searches": 15,
    "search_counts": {
      "bm25": 5,
      "vector": 5,
      "hybrid": 5
    },
    "error_rate": 0.2,
    "period_start": "2025-09-17T14:05:55.126703"
  },
  "success_summary": {
    "overall_success_rate": 0.7142857142857143,
    "individual_successes": {
      "bm25_tests": true,
      "vector_tests": true,
      "cross_encoder_tests": true,
      "hybrid_tests": false,
      "performance_metrics": true,
      "encoding_tests": true,
      "integration_tests": false
    },
    "critical_failures": [
      "hybrid_tests"
    ]
  },
  "recommendations": [
    "하이브리드 검색 개선: BM25와 벡터 검색의 가중치 조정과 결과 합성 로직을 최적화하세요.",
    "오류율 감소: 시스템 안정성을 위해 오류 처리와 폴백 메커니즘을 강화하세요."
  ]
}