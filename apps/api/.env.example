# Dynamic Taxonomy RAG API Environment Configuration
# Copy this file to .env and customize for your environment

# Environment settings
DT_RAG_ENV=development  # Options: development, staging, production, testing

# Database configuration
DATABASE_URL=postgresql://user:password@localhost:5432/dt_rag
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_ECHO=false

# Redis configuration
REDIS_URL=redis://localhost:6379/0

# Security configuration (REQUIRED in production)
# Generate a secure secret using: python -c 'import secrets; print(secrets.token_urlsafe(32))'
SECRET_KEY=your-generated-secret-key-here
JWT_EXPIRATION_MINUTES=30
JWT_REFRESH_EXPIRATION_DAYS=7

# CORS configuration (SECURITY CRITICAL)
# Development example:
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:3000

# Production example (use HTTPS only):
# CORS_ORIGINS=https://dt-rag.com,https://app.dt-rag.com

# Staging example:
# CORS_ORIGINS=https://staging.dt-rag.com,https://staging-app.dt-rag.com

# Custom CORS headers (optional - will use secure defaults if not specified)
# CORS_HEADERS=Accept,Content-Type,Authorization,X-API-Key,X-Requested-With

# Enable/disable CORS credentials (default: true)
CORS_CREDENTIALS=true

# Monitoring configuration
MONITORING_ENABLED=true
LOG_LEVEL=INFO
TRACE_SAMPLING_RATE=0.1

# Performance configuration
WORKER_PROCESSES=1
WORKER_CONNECTIONS=1000

# ========================================
# ENVIRONMENT-SPECIFIC EXAMPLES
# ========================================

# DEVELOPMENT ENVIRONMENT
# DT_RAG_ENV=development
# CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:8080,http://localhost:8081
# SECRET_KEY=your-dev-secret-key-here
# LOG_LEVEL=DEBUG

# STAGING ENVIRONMENT
# DT_RAG_ENV=staging
# CORS_ORIGINS=https://staging.dt-rag.com,https://staging-app.dt-rag.com
# SECRET_KEY=your-staging-secret-key-here
# LOG_LEVEL=INFO

# PRODUCTION ENVIRONMENT
# DT_RAG_ENV=production
# CORS_ORIGINS=https://dt-rag.com,https://app.dt-rag.com
# SECRET_KEY=your-production-secret-key-here
# LOG_LEVEL=WARNING
# WORKER_PROCESSES=4

# ========================================
# SECURITY NOTES
# ========================================

# 1. SECRET_KEY MUST be cryptographically secure (32+ characters)
# 2. NEVER use wildcard "*" in CORS_ORIGINS for production
# 3. ALWAYS use HTTPS origins in production (except localhost for testing)
# 4. Wildcard headers are blocked in production for security
# 5. CORS credentials with wildcard origins are blocked in production
# 6. Generate unique secrets for each environment
# 7. Rotate secrets regularly in production

# ========================================
# SECURITY VALIDATION
# ========================================

# The API will automatically validate:
# - No wildcard CORS origins in production
# - HTTPS origins in production (except localhost)
# - No wildcard headers in production
# - Secret key strength requirements
# - CORS credentials + wildcard origin conflicts