# Railway Login Guide (WSL + Browserless 방식)

## GPT 리뷰 핵심 교훈

1. **MCP 종류**: `@railway/mcp-server` (CLI 의존형)
   - Railway CLI 로그인 필수

2. **WSL 환경**: `--browserless` 옵션 사용
   - 브라우저 자동 실행 대신 pairing code 방식

3. **설정 초기화**: 기존 설정 제거 후 재인증

## 실행 단계

### 1단계: CLI 설정 초기화
```bash
rm -rf ~/.railway
```

### 2단계: Browserless 로그인
```bash
railway login --browserless
```

**예상 출력:**
```
Please visit:
  https://railway.app/cli/pairing?code=ABCD-EFGH-IJKL

Your pairing code is: ABCD-EFGH-IJKL

Press Enter when you have completed authentication in your browser...
```

### 3단계: 브라우저에서 인증
1. WSL 터미널에 표시된 URL을 브라우저에 복사
2. Railway 계정으로 로그인
3. Pairing code 입력 (또는 URL에 이미 포함됨)
4. "Authorize" 클릭

### 4단계: 터미널로 돌아와서 Enter
터미널에서 Enter를 누르면 인증 완료

### 5단계: 확인
```bash
railway whoami
```

**성공 시 출력:**
```
Your account information:
Email: your@email.com
Username: yourname
```

## 로그인 후 pgvector 설치

```bash
# PostgreSQL 접속 및 pgvector 설치
railway run psql $DATABASE_URL -c "CREATE EXTENSION IF NOT EXISTS vector;"

# 확인
railway run psql $DATABASE_URL -c "SELECT extname, extversion FROM pg_extension WHERE extname = 'vector';"
```

## 트러블슈팅

### "Unauthorized" 지속 시
1. Railway CLI 재설치
   ```bash
   npm i -g @railway/cli
   ```

2. 다시 시도
   ```bash
   rm -rf ~/.railway
   railway login --browserless
   ```

### Railway 백엔드 버그 의심 시
- Railway Station 포럼에 문의: https://station.railway.com
- 계정 문제일 수 있음 (API 토큰 통째로 차단되는 버그 사례 있음)

## 참고 자료
- GPT 리뷰에서 확인된 해결 패턴
- Railway Help Station 유사 사례들
